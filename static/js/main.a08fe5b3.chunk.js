(this.webpackJsonpspeaking=this.webpackJsonpspeaking||[]).push([[0],{27:function(e,t,n){e.exports=n(57)},32:function(e,t,n){},33:function(e,t,n){},54:function(e,t){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(25),r=n.n(o),u=(n(32),n(33),n(1));var i,l=function(e){var t=window.speechSynthesis,n=Object(a.useState)(t.getVoices()),o=Object(u.a)(n,2),r=o[0],i=o[1],l=Object(a.useState)(0),s=Object(u.a)(l,2),f=s[0],v=s[1],p=Object(a.useState)(1),m=Object(u.a)(p,2),b=m[0],g=m[1],h=Object(a.useState)(1),d=Object(u.a)(h,2),k=d[0],O=d[1],j=Object(a.useState)(!1),E=Object(u.a)(j,2),S=E[0],w=E[1];t.onvoiceschanged=function(){for(var e=t.getVoices(),n=0;n<e.length;n++)if(e[n].default){v(n);break}i(e)},function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e})),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){t.speaking||(e.speakOver(),w(!1))}),S?200:null);var y=function(e){var n=new SpeechSynthesisUtterance(e);n.voice=r[f],n.pitch=b,n.rate=k,t.speak(n)};return!S&&e.speak&&void 0!==e.sentence&&(w(!0),console.log("<speak> speak!",e.sentence),y(e.sentence)),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),y("hello")}},c.a.createElement("select",{value:f,onChange:function(e){v(e.target.value)}},r.map((function(e,t){return c.a.createElement("option",{key:t,value:t},"".concat(e.name," (").concat(e.lang,")"))}))),c.a.createElement("br",null),c.a.createElement("label",{htmlFor:"pitch"},"pitch"),c.a.createElement("input",{type:"number",step:.01,value:b,onChange:function(e){g(e.target.value)},id:"pitch"}),c.a.createElement("br",null),c.a.createElement("label",{htmlFor:"rate"},"rate"),c.a.createElement("input",{type:"number",step:.01,value:k,onChange:function(e){O(e.target.value)},id:"rate"}),c.a.createElement("input",{type:"submit"}))},s=n(26),f=n.n(s),v="https://stage-effect-server1.herokuapp.com",p=function(){!0,console.log("socket connect to server")},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,n=f()(v+e);return void 0===i&&(i=n),n.on("connect",t),n},b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;void 0!==i&&n.on(e,t)},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;n.emit(e,t)};var h=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(),i=Object(u.a)(r,2),s=i[0],f=i[1],v=Object(a.useState)(-1),p=Object(u.a)(v,2),h=p[0],d=p[1];return Object(a.useState)((function(){m("/receiver"),b("debug",(function(e){console.log(e)})),b("speak",(function(e){n||(f(e.text),d(e.id),o(!0))}))})),c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{onClick:function(){g("debug","testing")}}),c.a.createElement(l,{speak:n,sentence:s,speakOver:function(){o(!1),console.log("speak over",h),g("speakover",{id:h})}}))};var d=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(h,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.a08fe5b3.chunk.js.map